from singleton import Singleton

from ev3dev.core import UltrasonicSensor
from ev3dev2._platform.ev3 import INPUT_1, INPUT_4


class SensorCollector(metaclass=Singleton):
    
    def __init__(self):
        self.us = UltrasonicSensor()
        self.ts1 = TouchSensor(INPUT_1)
        self.ts4 = TouchSensor(INPUT_4)
        
        self.bt = Bluetooth()
    
    def collect(self):
       ts1PrevVal = False
       ts4PrevVal = False
       usPrevVal = 0
       
       while True:
          msg = ""
          
          if self.ts1.is_pressed is not ts1PrevVal:
              msg += "ts1=" + self.ts1.is_pressed
              
        if self.ts1.is_pressed is not ts1PrevVal:
              msg += "ts1=" + self.ts1.is_pressed
               
           
           
           
